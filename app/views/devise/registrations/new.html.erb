<div class="container">
  <div class="row">
    <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
      <h2 class="text-center">
        <i>Sign Up</i>
      </h2>

      <%= form_with model: @user, url: user_registration_path, id: 'new_user', class: 'new_user', local: true do |f| %>

      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.nickname' %></label>
          <%= f.text_field :nickname, autofocus: true, class:"form-control mt-1" %>
        </div>
      </div>
      
      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.profile_image' %></label>
          <br>
          <div class="attachment_relative">
            <%= f.attachment_field :profile_image, class:"mt-1 attachment_field" %>
            <div class="attachment-absolute"><%= t 'devise.registrations.new.button' %></div>
          </div>
        </div>  
      </div>
      
        
      
      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.email_address' %></label>
          <%= f.email_field :email, autofocus: true, autocomplete: "email", class:"form-control mt-1" %>
        </div>
      </div>
    
      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.password' %></label>
          <% if @minimum_password_length %><br/>
          (<%= t'devise.registrations.new.atleast' %><%= @minimum_password_length %><%= t'devise.registrations.new.chracters' %>)
          <% end %><br/>
          <%= f.password_field :password, autocomplete: "new-password", class:"form-control mt-1" %>
        </div>
      </div>
    
      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.confirm_password' %></label>
          <%= f.password_field :password_confirmation, autocomplete: "new-password", class:"form-control mt-1" %>
        </div>
      </div>
      
      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.height' %></label>
          <%= f.text_field :height, autofocus: true, class:"form-control mt-1" %>
        </div>
      </div>
    
      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.weight' %></label>
          <%= f.text_field :weight, autofocus: true, class:"form-control mt-1" %>
        </div>
      </div>
      
      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.gender' %></label></br>
          <%= f.select :gender, User.genders_i18n.invert %>
          <!--モデル名＋モデルに記載のカラムの複数形(なぜなら選択肢は複数あるため-->
        </div>
      </div>
      
      <div class="field">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
          <label><%= t 'devise.registrations.new.introduction' %></label>
          <%= f.text_area :introduction, autofocus: true, class:"form-control" %>
        </div>
      </div>
    
      <div class="actions">
        <div class="col-sm-12 col-md-8 col-lg-6 px-5 px-sm-0 mx-auto mt-3">
        <%= button_tag "Sign Up", type: "submit", class:"btn btn-primary button" %>
        <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="mb-3"></div>

<!--バリデーション-->
<script>
$(function(){
  $('#new_user').validate({
		  rules : {
				 "user[nickname]": {
					required: true
				 },
          "user[email]": {
					required: true,
　　      email: true
				 },	
          "user[password]": {
					required: true,
          minlength: 6
				 },
				  "user[password_confirmation]": {
					required: true,
          minlength: 6,
          equalTo: "#user_password"

				 },
				 	"user[height]": {
					required: true,
          number: true
				 },
				 	"user[weight]": {
					required: true,
          number: true
				 },
				 	"user[introduction]": {
					required: true,
				 },
				 
		  },
		  messages: {
      "user[nickname]"  :{
						required: "<%= t 'devise.registrations.new.validation' %>"
				 },
			"user[email]"  :{
						required: "<%= t 'devise.registrations.new.validation2' %>",
						email: "<%= t 'devise.registrations.new.validation_email' %>"
				 },
			"user[password]"  :{
						required: "<%= t 'devise.registrations.new.validation3' %>",
	          minlength: "<%= t 'devise.registrations.new.validation_min' %>"
				 },	
			"user[password_confirmation]"  :{
      			required: "<%= t 'devise.registrations.new.validation4' %>",
            minlength: "<%= t 'devise.registrations.new.validation_min2' %>",
            equalTo: "<%= t 'devise.registrations.new.validation_match' %>",
				 },	
			"user[height]"  :{
      			required: "<%= t 'devise.registrations.new.validation5' %>",
            number: "<%= t 'devise.registrations.new.validation_height' %>"
				 },					 
			"user[weight]"  :{
      			required: "<%= t 'devise.registrations.new.validation6' %>",
            number: "<%= t 'devise.registrations.new.validation_weight' %>"
				 },	
			"user[introduction]"  :{
      			required: "<%= t 'devise.registrations.new.validation7' %>",
				 },			 
      },
   }) 
})
</script>
