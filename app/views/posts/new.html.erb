<div class="container">
    <div class="row">
        <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
            <h2 class="mt-3"><i>New Post</i></h2>
            
            <!--ここからエラーメッセージ-->
            <% if @post.errors.any? %>
            <div id="error_explanation">
                <div class="error"><%= pluralize(@post.errors.count, "つエラー") %> 
                    があるため保存ができませんでした。
                </div>
                <ul class="error_list mt-2">
                    <% @post.errors.full_messages.each do |message| %>
                    <li><%= message %></li>
                    <% end %>
                </ul>
            </div>
            <% end %>
            <!--ここまでエラーメッセージ-->
                
           <%= form_with model:@post, local:true do |f| %>
                <div class="form-group">
                    <label class="mt-2">日付入力</label>
                    <p><%= f.date_select :date_on, autofocus: true, class: "form-control name" %></p>
                </div>
               
                <div class="form-group">
                <label>時刻入力</label>
                    <p><%= f.time_select :time_at, class: "form-control-file user_image" %></p>
                </div>
              
                <div class="form-group">
                <label>画像アップロード</label>
                    <%= f.attachment_field :post_images_images, multiple: true, class: "form-control-file user_image" %>
                </div>
              
                <div class="form-group">
                <label>筋トレ場所</label>
                    <%= f.text_field :place , class: "form-control-file " %>
                </div>
                
                <div class="form-group">
                    <label>タグ付け</label>
                    <%= f.text_area :tag_id, class: "form-control-file", placeholder: "タグが複数の場合は','で区切ってください" %>
                </div>

                <label>筋トレ達成度</label>
                <div id="star">
                    <%= f.hidden_field :rate, :value => 'score' %>
                </div>

                <div class="form-group">
                <label>タイトル</label>
                    <%= f.text_field :title , class: "form-control-file" %>
                </div>

                <div class="form-group">
                <label>筋トレ内容</label>
                    <%= f.text_area :content , class: "form-control-file" %>
                </div>
              
                <div class="form-group">
                    <%= f.submit "submit", class: "btn btn-primary" %>
                </div>
            <% end %>
        </div>
      </div>
    </div>
</div>

<!--レビュー用javascript-->
<script>
 $('#star').raty({
   size: 36,
   starOff: "<%= asset_path('star-off.png') %>",
   starOn: "<%= asset_path('star-on.png') %>",
   starHalf: "<%= asset_path('star-half.png') %>",
   scoreName: 'post[rate]',
   half: true,
 });
</script>